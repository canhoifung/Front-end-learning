# 7种语言类型

1. undefined;  
2. Null;  
3. Boolean;  
4. String;  
5. Number;    
7. Object;
7. Symbol;  

原始类型：`String`、`Number`、`Boolean`

## Undefined、Null

Undefined类型表示未定义,只有一个值,即undefined.但JS中undefined是一个**变量**而**不是一个关键字**,因此以下情况是可能实现的.

```JavaScript
var undefined="hello world"
```
因此推荐使用`void 0`.(`void运算能把任一表达式变成undefined值`)    

而null表示"定义了但是为空";  

null**是关键字**.

```javascript
null >= 0; //true，此时null会进行转型为number判断
null == 0; //false，null进行相等判断时不会进行转型
null == false; // false
undefined == false; // false
null == undefined;

//空数组[]和空对象{}对应的布尔值都是true
if([]){
    console.log('true');
}; //true

if({}){
    console.log('true');
}; //true

[] == true; //false
```



## Boolean

表示逻辑意义上的真和假.有true和false;

除以下六个值为`false`外其余为`true`:

- `undefined`
- `null`
- `false`
- `0`
- `NaN`
- `""`或`''`（空字符串）

## String
最大长度为2^53-1;

字符串分开多行会报错：

```javascript
'a
b
c'
// Uncaught SyntaxError: Invalid or unexpected token

//需要添加反斜杠：
var longString = 'Long \
long \
long \
string';

longString
// "Long long long string"
```

**变通方法**：利用多行注释：

```javascript
(function () { /*
line 1
line 2
line 3
*/}).toString().split('\n').slice(1, -1).join('\n')

// "line 1
// line 2
// line 3"
```



常用转义字符：

- `\0` ：null（`\u0000`）
- `\b` ：后退键（`\u0008`）
- `\f` ：换页符（`\u000C`）
- `\n` ：换行符（`\u000A`）
- `\r` ：回车键（`\u000D`）
- `\t` ：制表符（`\u0009`）
- `\v` ：垂直制表符（`\u000B`）
- `\'` ：单引号（`\u0027`）
- `\"` ：双引号（`\u0022`）
- `\\` ：反斜杠（`\u005C`）

> 若反斜杠后面跟非特殊字符，反斜杠会被忽略



具有`length`属性



### Base64 转码

1. `btoa()`:将任意值转化为Base64编码
2. `atob()`将Base64编码转化为原来的值

```javascript
var string = 'Hello World!';
btoa(string) // "SGVsbG8gV29ybGQh"
atob('SGVsbG8gV29ybGQh') // "Hello World!"

//将非ASC II码字符转化为Base64编码：需要加入一个转码环节
function b64Encode(str) {
  return btoa(encodeURIComponent(str));
}

function b64Decode(str) {
  return decodeURIComponent(atob(str));
}

b64Encode('你好') // "JUU0JUJEJUEwJUU1JUE1JUJE"
b64Decode('JUU0JUJEJUEwJUU1JUE1JUJE') // "你好"
```



## Number

除了常规浮点数外,为了表达几个额外的语言场景,规定了几种例外情况:

1. NaN,Not a Number;  
2. Infinity,无穷大;  
3. -Infinity,负无穷大; 



- 十进制：没有前导0的数值。
- 八进制：有前缀`0o`或`0O`的数值，或者有前导0、且只用到0-7的八个阿拉伯数字的数值。
- 十六进制：有前缀`0x`或`0X`的数值。
- 二进制：有前缀`0b`或`0B`的数值。

> 有前缀0的数值会被认为是八进制，但是若前缀为08，则视为十进制
>
> ==（ES5的严格模式与ES6已经废除了这种表示法）== 

### 数值范围与精度

```javascript
Math.pow(2,1024); //Infinity
Math.pow(2,-1075); //0
```

```javascript
Number.MAX_VALUE // 1.7976931348623157e+308
Number.MIN_VALUE // 5e-324
```

> JavaScript中有+0和-0,加法中没有区别但除法时会有区别.
> 由于浮点数的定义,非整数的Number类型无法用`==`或`===`来比较;

```javascript
1 === 1.0; //ture
```

```JavaScript
0.1+0.2===0.3;  //false   由于是浮点数  会有很微小的差别
Math.abs(0.1+0.2-0.3);   //true   最小精度值
```

精度最多只能到53个二进制位，即-2<sup>53</sup>到2<sup>53</sup>。（也是15位的二进制数）。
> ```javascript
> Math.pow(2, 53)
> // 9007199254740992
> 
> // 多出的三个有效数字，将无法保存，以四舍五入方法取值
> 9007199254740992111
> // 9007199254740992000
> ```

### `NaN`

```javascript
NaN === NaN; //false   NaN与任何值都不相等包括自己，与任何数参与运算都为NaN
isNaN(NaN);  //true   唯一能判断NaN的方法，使用isNaN()函数```
```

### `Infinity`

1. `Infinity`与`null`计算时，`null`会转换成0；

2. `Infinity`与`undefined`计算，返回`NaN`;

3. ```javascript
   Infinity > NaN ; //false
   -Infinity < NaN ; //false
   Infinity - Infinity; // NaN
   Infinity/Infinity; //NaN
   ```

### `Number`相关的全局方法

#### `parseInt()`

1. 用于将字符串转为正数

> 若字符串头部有空格会去掉空格
>
> 若参数不是字符串，会先转为字符串再进行转化

==转化为一个个字符依次转化，若遇到不能转化为数字的字符，则停止转化返回已经转好的部分==

```javascript
parseInt('8a') // 8
parseInt('12**') // 12
parseInt('12.34') // 12
parseInt('15e2') // 15
parseInt('15px') // 15

parseInt('abc') // NaN
parseInt('.3') // NaN
parseInt('') // NaN
parseInt('+') // NaN
parseInt('+1') // 1
```

==对于会进行科学计数法转化的数字，函数会将科学计数法转化后的数字视为字符串：==

```javascript
parseInt(1000000000000000000000.5) // 1
// 等同于
parseInt('1e+21') // 1

parseInt(0.0000008) // 8
// 等同于
parseInt('8e-7') // 8
```

2. 进行进制转换

```javascript
parseInt('1000', 2) // 8
parseInt('1000', 6) // 216
parseInt('1000', 8) // 512
```

若第二个参数不是数值，会被自动转为一个整数。

> 整数需要在2-36之间，否则返回NaN
>
> 若为`0`、`undefined`、`null`，则==直接忽略==
>
> 若字符串中含有无法转化为指定进制的字符，则从最高位开始，只返回可以转换的数值，都无法转换就返回`NaN`
>
> ```javascript
> parseInt('1546', 2) // 1
> parseInt('546', 2) // NaN
> ```

#### `parseFloat()`

用于将字符串转为浮点数

若字符串符合科学计数法，会进行对应的转化

其余与`parseInt()`类似，但将==第一个==小数点视为有效数字

```javascript
parseFloat('\t\v\r12.34\n ') // 12.34   

\t 制表符
\v 垂直制表符
\r 回车键
```

#### 两种转化与`Number()`的区别

```javascript
parseFloat(true)  // NaN
Number(true) // 1

parseFloat(null) // NaN
Number(null) // 0

parseFloat('') // NaN
Number('') // 0

parseFloat('123.45#') // 123.45
Number('123.45#') // NaN

parseFloat(undefined) //NaN
Number(undefined)  //NaN
```

#### `isNaN()`

与上两种一样，传入的参数会先转化为数值再判断

> 判断为`true`的可能不是`NaN`，而是一个字符串、`{}`、包含非数值的`[]`
>
> 但`[]`、`[123]`、`['123']`，都会返回`false`

因而可以先判断数据类型：

```javascript
function myIsNaN(value) {
  return typeof value === 'number' && isNaN(value);
}

//或利用NaN不等一自身的特点进行判断：
function myIsNaN(value) {
  return value !== value;
}
```

#### `isFinite()`

返回一个布尔值，用于判断传入参数是否为正常的参数。（指非无穷非`NaN`非`undefined`、`null`）



## Object

表示对象，可以分成三个子类型；

+ 狭义的对象（`object`）
+ 数组（`array`）
+ 函数（`function`）

>当`Number String Boolean`和new搭配时,将产生对象.当直接调用时,他们表示强制类型转换.
日常代码可以将对象的方法在基本类型上使用,如

```JavaScript
console.log("abc".charAt(0));  //a
```
若行首为一个大括号，JavaScript一律解释为代码块：

```javascript
//代码块
{console.log(123)} // 123

//对象，在大括号前加上圆括号
//圆括号内只能是表达式，因而确保大括号只能解释为对象
({ foo: 123 }) // 正确
({ console.log(123) }) // 报错
```

对于`eval`语句而言（将传入的字符串当作JavaScript代码进行执行）

```javascript
eval('{foo: 123}') // 123
eval('({foo: 123})') // {foo: 123}
```







## Symbol

是一切非字符串的对象key的集合.  

```JavaScript
创建Symbol的方法,使用全局的Symbol函数
var mySymbol = Symbol("my symbol");
```

# 检测值是什么类型方法

1. `typeof`
2. `instanceof`
3. `Object.prototype.toString`

# 类型转换

|         |   Null    |  Undefined  | Boolean(true) | Boolean(false) |     Number      |     String      |  Symbol   | Object |
| ------- | --------- | ----------- | ------------- | -------------- | --------------- | --------------- | --------- | ------ |
| Boolean | FALSE     | FALSE       | -             | -              | 0/NaN-false     | ""-false        | TRUE      | TRUE   |
| Number  | 0         | NaN         | 1             | 0              | -               | #StringToNumber | TypeError | #拆箱转换    |
| String  | "null"    | "undefined" | TRUE          | FALSE          | #NumberToString | -               | TypeError | #拆箱转换    |
| Object  | TypeError | TypeError   | #装箱转换      | #装箱转换       | #装箱转换        | #装箱转换        | #装箱转换  | -      |



## 强制类型转换
可用的3种强制类型转换如下：  

**Boolean(value)**——把给定的值转换成Boolean型；  

**Number(value)**——把给定的值转换成数字（可以是整数或浮点数）；  

**String(value)**——把给定的值转换成字符串。  

```JavaScript
//Boolean转换
Boolean("");   //false    –    empty    string  
Boolean("hi");   //true    –    non-empty    string  
Boolean(100);   //true    –    non-zero    number  
Boolean(null);   //false    -    null  
Boolean(0);   //false    -    zero  
Boolean(new    Object());   //true    –    object 

//Number转换
Number(false)    0  
Number(true)    1  
Number(undefined)    NaN  
Number(null)    0  
Number( "5.5 ")    5.5  
Number( "56 ")    56  
Number( "5.6.7 ")    NaN  
Number(new    Object())    NaN  
Number(100)    100  

//String转换
var    s1    =    String(null);   //"null"  
//String强制转换和toString的区别
var    oNull    =   null;  
var    s2    =    oNull.toString();   //won’t    work,    causes    an    error 

```

## NumberToString
### String()
可以将null和undefined转换为字符串，但是**没法转进制字符串**
### toString() 
可以将所有的的数据都转换为字符串，但是要**排除null 和 undefined**
>.toString() 括号中的可以写一个数字，代表进制，对应进制字符串  
>二进制：.toString(2);  
>八进制：.toString(8);  
>十进制：.toString(10);  
>十六进制：.toString(16);

## 装箱转换&拆箱转换

还没弄懂

# typeof的结果和运行时类型差别

|     示例表达式      |  typeof结果  | 运行时类型行为 |
| ------------------ | ------------ | ------------- |
| null           | object   | Null     |
| {}                 | object       | Object        |
| [] | object | Object |
| (function(){}) | function | Object   |
| 3                  | number       | Number        |
| "ok"               | string       | String        |
| true               | boolean      | Boolean       |
| void 0             | undefined    | Undefined     |
| undefined | undefined | Undefined |
| Symbol("a")        | symbol       | Symbol        |



